var v=i=>{throw TypeError(i)};var f=(i,t,e)=>t.has(i)||v("Cannot "+e);var r=(i,t,e)=>(f(i,t,"read from private field"),e?e.call(i):t.get(i)),a=(i,t,e)=>t.has(i)?v("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(i):t.set(i,e),B=(i,t,e,o)=>(f(i,t,"write to private field"),o?o.call(i,e):t.set(i,e),e),_=(i,t,e)=>(f(i,t,"access private method"),e);import{H as w,a as P,S,M as H,b as L}from"./SwitchPageController-LEnDeDHD.js";import{C as I}from"./CityController-DSj6KMa1.js";var d,u,n,l,h,C;class N{constructor(){a(this,h);a(this,d,"[data-favourites-list]");a(this,u,{notFound:"[data-favourites-notFound]"});a(this,n);a(this,l,JSON.parse(localStorage.getItem("favourites")));this.helpers=new w,this.htmlBuilder=new P,this.parentElement=document.querySelector(r(this,d)),this.notFoundElement=document.querySelector(r(this,u).notFound),this.init()}async init(){B(this,n,await this.helpers.getData()),this.getProductHorizontal(),this.helpers.addEventListenerToBuyButton("favourites-price","favourites-price__buy"),this.helpers.buttonStopPropagation("favourites-price__buy"),this.helpers.addEventListenerToFavoritesButton("favourites-price","favourites-price__favorit"),this.helpers.buttonStopPropagation("favourites-price__favorit"),this.helpers.getCountBasket(),this.hideNotFound()}hideNotFound(){r(this,l).length&&(this.notFoundElement.style.display="none")}getProductHorizontal(){r(this,l).forEach(t=>{const e=r(this,n).find(o=>o.id===t);if(e){const o=_(this,h,C).call(this,e);this.parentElement.appendChild(o)}})}}d=new WeakMap,u=new WeakMap,n=new WeakMap,l=new WeakMap,h=new WeakSet,C=function(t){const e=t.id,o=this.htmlBuilder.createListItem("main-favourites__item","data-favourites-id",e),c=this.htmlBuilder.createBlock("favourites-info"),p=this.htmlBuilder.createBlock("favourites-info__texts"),s=this.htmlBuilder.createBlock("favourites-price"),m=this.htmlBuilder.createLinkBlock(`../../pages/product.html?id=${e}`,"main-favourites__link"),g=this.htmlBuilder.createImage(t.mainImage,"favourites-info__image"),k=this.htmlBuilder.createNameProduct(t.name,"favourites-info__title"),b=this.htmlBuilder.createFeedback(t.feedback,"favourites-info__feedback"),y=this.htmlBuilder.createPrice(t.price,"favourites-price__price"),E=this.htmlBuilder.createBuyButton("favourites-price__buy"),F=this.htmlBuilder.createFavoritButton("/images/favourites/redHeart.svg","favourites-price__favorit");return p.appendChild(k),p.appendChild(b),c.appendChild(g),c.appendChild(p),s.setAttribute("data-favourites-id",e),s.appendChild(y),s.appendChild(E),s.appendChild(F),m.appendChild(c),m.appendChild(s),o.appendChild(m),o};new N;new S;new H;new I;new L;
